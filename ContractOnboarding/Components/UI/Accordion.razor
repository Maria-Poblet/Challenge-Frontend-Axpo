@namespace ContractOnboarding.Components.UI

<div class="accordion-item">
    <!-- Header -->
    <button class="accordion-header" @onclick="Toggle">
        <span class="typo-accordion-title">@Title</span>
        
        <!-- Icono Chevron (SVG Inline) -->
        <!-- Class 'rotate' activates when _isOpen is true -->
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
             class="chevron @(_isOpen ? "rotate" : "")">
            <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
    </button>

    <!-- Content only renders when class "isOpen" -->
    @if (_isOpen)
    {
        <div class="accordion-content">
            <div class="content-padding">
                @ChildContent
            </div>
        </div>
    }
</div>

@code {
    // Accordion Title
    [Parameter] public string Title { get; set; } = "Overview";
    
    // Content
    [Parameter] public RenderFragment? ChildContent { get; set; }

    // State close/Open
    private bool _isOpen = false;

    // State toggle
    private void Toggle() => _isOpen = !_isOpen;
}
